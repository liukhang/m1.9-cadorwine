<?php

/**

 * Magento

 *

 * NOTICE OF LICENSE

 *

 * This source file is subject to the Academic Free License (AFL 3.0)

 * that is bundled with this package in the file LICENSE_AFL.txt.

 * It is also available through the world-wide-web at this URL:

 * http://opensource.org/licenses/afl-3.0.php

 * If you did not receive a copy of the license and are unable to

 * obtain it through the world-wide-web, please send an email

 * to license@magento.com so we can send you a copy immediately.

 *

 * DISCLAIMER

 *

 * Do not edit or add to this file if you wish to upgrade Magento to newer

 * versions in the future. If you wish to customize Magento for your

 * needs please refer to http://www.magento.com for more information.

 *

 * @category    design

 * @package     rwd_default

 * @copyright   Copyright (c) 2006-2017 X.commerce, Inc. and affiliates (http://www.magento.com)

 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)

 */

?>

<?php echo $this->getLayout()->createBlock('cms/block')->setBlockId('block_footer_spedizioni_serve_reso')->toHtml(); ?>

<div class="footer">	

	<div class="footer-container">

        <?php echo $this->getChildHtml() ?>

        

    </div>

</div>

<address class="copyright"><a href="https://www.up3up.it/" target="_blank"><?php echo $this->getCopyright() ?></a></address>



<script>

	jQuery(window).scroll(function(){

	  var sticky = jQuery('.page-header'),

		  scroll = jQuery(window).scrollTop();

		if(jQuery(window).width() > 767){

		  if (scroll >= 25){ 

			sticky.addClass('fixed');

			jQuery('body').addClass('header-fixed');

		  }

		  else {

			  sticky.removeClass('fixed');

			  jQuery('body').removeClass('header-fixed');

		  }

		}

	});

</script>





<!-- inizio cookie -->

<div id="cookieBox" class="cookie-box"></div>

<script type="text/javascript">

/* cookie script */

(function() {

	var baseDomain = 'controlbody.it', //set domain

		cookieText = 'Questo sito fa uso di cookie. Continuando a navigare ne accetterai l\'utilizzo.', //set text

		privacyText = 'Maggiori Informazioni', //set more info

		_linkHref = "/privacy-policy-cookie-restriction-mode", //set privacy

		acceptText = 'Accetto',//set accept button

		cookieName = 'cookieConsent',

		supportsTextContent = 'textContent' in document.body;

	//var animazione

	var obj = {

			el : document.getElementById('cookieBox'),

			done : true,

			repeat : 1,

			time: 100

		},

		show, hide;

	//DOM Content Loaded

	document.addEventListener("DOMContentLoaded", function(event) {

		//se non esiste cookie creo il messaggio

		if (_shouldDisplayConsent()) {

    		_createCookie(_linkHref);

    		_showCookie();

    		document.getElementById('acceptCookie').onclick = _acceptLinkClick;

    		window.onscroll = function(ev) {

    			if (window.scrollY >= 150) {

      				_acceptLinkClick();

      			}

			};

    	}

	});

	function _acceptLinkClick() {

    	_writeCookie();

    	_hideCookie();

 	}

 	function _writeCookie(){

 		var expiryDate = new Date();

    	expiryDate.setFullYear(expiryDate.getFullYear() + 1);

 		document.cookie = cookieName + '=y; expires=' + expiryDate.toGMTString() + ";domain=." + baseDomain + ";path=/";

 	}

	//Set Text

  	function _setElementText(element, text) {

    	if (supportsTextContent) {

      		element.textContent = text;

    	} else {

      		element.innerText = text;

    	}

  	}

  	//crea testo

  	function _createConsentText(cookieText) {

    	var consentText = document.createElement('p');

    	consentText.id = 'cookieText';

		consentText.classList.add("cookie-text");

    	_setElementText(consentText, cookieText);

    	return consentText;

  	}

  	//crea link

  	function _createLinkText(linkText, linkHref, linkClass, linkId) {

  		var link = document.createElement('a');

  		_setElementText(link, linkText);

		link.id = linkId;

		link.classList.add(linkClass);

		link.href = linkHref;

    	if(linkClass == 'link-privacy') { link.target = '_blank'; }

  		return link;

  	}

  	//animazione

  	function _setOpacity(opacity) {

		obj.el.style.opacity = opacity / obj.time;

		obj.el.style.filter = 'alpha(opacity=' + opacity + ')';

	}

	function _fadeIn() {

		obj.repeat += 1;

		if (obj.done && obj.el.style.opacity !== '1') {

		 	_setOpacity(obj.repeat);

		 	setTimeout(_fadeIn, 10);

		}else{

		 	obj.done = true;

		 	clearInterval(show);

		}

	}

	function _fadeOut() {

		if (obj.el.style.opacity !== '0') {

			obj.repeat -= 1;

		 	_setOpacity(obj.repeat);

		 	setTimeout(_fadeOut, 10);

		}else{

		 	clearInterval(hide);

		 	obj.el.style.display='none';

		}

	}

	function _showCookie(){

		obj.el.style.display = "block";

		show = setInterval(_fadeIn, obj.time);

	}

	function _hideCookie(){

		hide = setInterval(_fadeOut, obj.time);

		obj.el.style.display = "none";

	}

	//crea html cookie

	function _createCookie(_linkHref) {

		//Define Variable for create div, p and a elements

		var cookieContainer = document.createElement('div'),

			containerTextCookie = document.createElement('div');

		var containerPrivacy = document.createElement('div'),

			containerAccept = document.createElement('div');

		//Define ID and Class for elements

		cookieContainer.id = 'cookieContainer';

		cookieContainer.classList.add("cookie-container");

		containerTextCookie.id = 'containerTextCookie';

		containerTextCookie.classList.add("container-text-cookie");

		//Define ID and Class for elements

		containerPrivacy.id = 'containerPrivacy';

		containerAccept.id = 'containerAccept';

		//crea elementi

		document.getElementById('cookieBox').appendChild(cookieContainer);

		document.getElementById('cookieContainer').appendChild(containerTextCookie);

		document.getElementById('containerTextCookie').appendChild(_createConsentText(cookieText));

		document.getElementById('cookieContainer').appendChild(containerPrivacy);

		document.getElementById('cookieContainer').appendChild(containerAccept);

		document.getElementById('containerPrivacy').appendChild(_createLinkText(privacyText, _linkHref, 'link-privacy', 'linkPrivacy'));

		document.getElementById('containerAccept').appendChild(_createLinkText(acceptText, '#', 'accept-cookie', 'acceptCookie'));		

	}

	//show cookies

	function _shouldDisplayConsent() {

		return !document.cookie.match(new RegExp(cookieName + '=([^;]+)'));

	}

})();

</script><!-- fine cookie --> 

